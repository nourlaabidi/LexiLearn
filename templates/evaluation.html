{% extends 'base.html' %}
{%load static%}
<body>
    {% block content %}
    <div class="main-content">
      <div class="level-info-container">
          <h3>Level 1 / Word NÂ°1:</h3>
      </div>
      <h2>Important</h2>
      <div class="circle-container">
          <div class="circle">
              <div class="fill" id="fill"></div>
          </div>
      </div>
      <div class="score-container">
          <div class="score-text" id="scoreText">The Score : 0%</div>
      </div>
      <!-- <audio controls>
          <source src="{{ audio_url }}" type="audio/wav">
          Your browser does not support the audio element.
      </audio> -->
      <div class="button-container">
          <div class="button" style="color:white;">
              <button onclick="saveAudio('{{ audio_id }}')">Save</button>
              <button onclick="window.location.href='/record/'">Record Again</button>
          </div>
      </div>
  </div>
    <script>
      var score = {{ score }};
      /*score = Math.max(0, Math.min(score, 100));
      var progressBarWidth = score + '%';
      document.getElementById('progressBar').style.width = progressBarWidth;
      document.getElementById('scoreText').innerText = score + '%';*/
      // Set the score value (between 0 and 100)
      const fill = document.getElementById('fill');
      const scoreText = document.getElementById('scoreText');
      fill.style.clipPath = `circle(${score}% at 50% 50%)`;
      scoreText.textContent = `${score}%`;
  </script>
  {% endblock %}
</body>
